(this.webpackJsonprate=this.webpackJsonprate||[]).push([[0],{15:function(e,t,n){},28:function(e,t,n){e.exports=n(40)},33:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),l=n.n(c),i=(n(33),n(22)),o=n(16),s=n.n(o),u=n(23),m=n(7),d=n(11),h=n(9),p=n(8),E=n(13),b=n(10),f=(n(15),function(e){function t(e){return Object(m.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("email").addEventListener("keyup",(function(e){13===e.keyCode&&document.getElementById("start").click()}))}},{key:"render",value:function(){return r.a.createElement("div",{class:"App-header"},r.a.createElement("img",{class:"App-logo",src:"logo192.png"}),r.a.createElement("p",{id:"errMsg"}),r.a.createElement("div",{class:"input-group"},r.a.createElement("label",{class:"input-label-g",for:"username"},"Email"),r.a.createElement("div",{class:"input-btn-g"},r.a.createElement("input",{id:"email",type:"email",class:"email-input",placeholder:"user@institution.edu"}),r.a.createElement("button",{class:"btn btn-lg btn-start",id:"start",onClick:this.props.handleAuth},"Start"))))}}]),t}(r.a.Component)),v=function(e){function t(e){return Object(m.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"App-header"},r.a.createElement("input",{id:"search",class:"email-input",placeholder:"Please type something"}))}}]),t}(r.a.Component);function g(e){return r.a.createElement("div",null,r.a.createElement("div",{id:"nm"},r.a.createElement("h1",null,e.name)),r.a.createElement("p",{id:"dtbase"},"Rating base on ",e.qt," data collect from students."),r.a.createElement(j,{rate:e.rate}))}function j(e){return r.a.createElement("div",{id:"rt_area"},r.a.createElement("div",{id:"rt"},r.a.createElement("div",{id:"score"},r.a.createElement("p",null,e.rate)),r.a.createElement("div",{id:"outof"},r.a.createElement("p",null,"/5"))))}var O=g,y=n(27),k=n(24),A=n(6),w=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={authenticated:!1,userEmail:"none"},n.Authenticate=n.Authenticate.bind(Object(E.a)(n)),n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"Authenticate",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("email").value,a={email:n},e.next=4,fetch("http://localhost:5000/api/login",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:5000"}}).then((function(e){e.ok?e.json().then((function(e){r.setState({authenticated:!0,userEmail:e.email}),console.log(r.state.userEmail+"in handling"),console.log(r.state.authenticated)})):e.json().then((function(e){document.getElementById("errMsg").innerText=e.errMsg}))}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(k.a,null,r.a.createElement("div",{class:"App"},r.a.createElement("nav",{class:"navbar"},r.a.createElement("div",{class:"user-btn-box"},r.a.createElement("button",{class:"btn user-btn"},r.a.createElement(y.a,null)))),r.a.createElement("hr",null),r.a.createElement(A.d,null,r.a.createElement(C,{path:"/login",control:this.state.authenticated},r.a.createElement(f,{handleAuth:this.Authenticate})),r.a.createElement(A.b,{path:"/home",render:function(){return r.a.createElement(v,{userEmail:e.state.userEmail})}}),r.a.createElement(A.b,{path:"/professorinfo",render:function(){return r.a.createElement(O,null)}}))))}}]),t}(r.a.Component);function C(e){var t=e.control,n=e.children,a=Object(i.a)(e,["control","children"]);return console.log(t),r.a.createElement(A.b,Object.assign({},a,{render:function(){return t?r.a.createElement(A.a,{to:"/home"}):n}}))}r.a.Component;var B=w;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.64a10cd6.chunk.js.map